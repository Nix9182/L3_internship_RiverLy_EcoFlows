lapply(df$taxon, function(x){str_replace_all(x, "[^a-zA-Z]", "")[[1]][2:3]})
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
lapply(df$taxon, function(x){str_replace_all(x, "[^a-zA-Z]", "")})
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")})
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]]})
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[2]]})
df <- read_excel("dataset_isotopes_compile.xlsx")
lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]})
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
df['taxon']<- c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df <- read_excel("dataset_isotopes_compile.xlsx")
df['taxon']<- lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]})
c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
test
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
test[1]
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
test[1][1]
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
test[1][2]
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-c(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df["test"]<-test
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df["test"]<-test
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]}))
test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df["test"]<-test
df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]}))
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df["test"]<-test
df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
"df["test"]<-test
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]}))
test[[1]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
"df["test"]<-test
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]}))
test[[2]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
"df["test"]<-test
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
df["test"]<-test
df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[1]][[1]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[,]][[1]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[1]][[1]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[1]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[8]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[,]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[ , ]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[ ]]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[-1]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[,length(test)]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[:length(test)]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[:]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[c(:)]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[c()]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[c(1,2)]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][[c(1:2)]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][c(1:2)]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
test[[1]][]
test[[1]]
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][][1]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){str_split(x, "_")[[1]][2]}))
test[[1]][][]
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2:3]
new_string <- str_replace_all(x, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)))
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x))
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2:3]
#new_string <- str_replace_all(x, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
#new_string <- str_replace_all(x, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(x, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_split(string, ".")[[1]][1]
#new_string <- str_replace_all(x, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(new_string, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
df <- read_excel("dataset_isotopes_compile.xlsx")
test<-list(lapply(df$taxon, function(x){Clean_String(x)}))
test
df["test"]<-test
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon"]<-taxon
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
View(df)
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
#test<-list(lapply(test, function(x){str_replace_all(x, "[^A-Z]", "")[[1]][1]}))
#df["test"]<-test
#df
#lapply(df$taxon, function(x){str_split(x, "_")[[1]][2:3]})
View(df)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
type
View(df)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=type))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=type))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=type))
View(df)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean
))
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(new_string, "[^A-Z]", "")[[1]][1]
new_string <- tolower(new_string)
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean
))
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-as.factor(taxon_clean)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean
))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm))+geom_point(aes(color=taxon_clean))
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(new_string, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm))+geom_point(aes(color=taxon_clean))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-as.factor(taxon_clean)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=type))
View(df)
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=as.factor(taxon_clean))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=as.factor(taxon_clean)))
class(df$taxon_clean)
View(df)
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-lapply(df$taxon, function(x){Clean_String(x)})
df["taxon_clean"]<-taxon_clean
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<-c(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<- list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<- list(as.factor(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<- list(as.factor(lapply(df$taxon, function(x){Clean_String(x)})))
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(new_string, "[^A-Z]", "")[[1]][1]
new_string <-as.factor(new_string)
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean<- list(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
class(df$taxon_clean)
View(df)
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(new_string, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df$taxon_clean <- factor(df$taxon_clean)
class(df$type)
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df$taxon_clean <- factor(df$taxon_clean)
View(df)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean))
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
#df$taxon_clean <- factor(df$taxon_clean)
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df<- df[df$taxon_clean !='ASP']
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df<- df[df$taxon_clean !='ASP',]
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df<- df[df$taxon_clean !=ASP,]
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df<- df[df$taxon_clean !='ASP',]
df <- read_excel("dataset_isotopes_compile.xlsx")
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
df["taxon_clean"]<-taxon_clean
df<- df[df$taxon_clean !=as.character('ASP'),]
ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
View(df)
View(df)
ggplot(df[df$taxon_clean ==as.character('BAET'),])+geom_point(aes(d13C_norm,d15N_norm, color=type))
all <- ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
baet <- ggplot(df[df$taxon_clean ==as.character('BAET'),])+geom_point(aes(d13C_norm,d15N_norm, color=type))
ggarrange(all, baet,
labels = c("A", "B"),
ncol = 2)
install.packages("ggpubr")
library(readxl)
library(tidyverse)
library(stringr)
library(ggpubr)
ggarrange(all, baet,
labels = c("A", "B"),
ncol = 2)
ggarrange(all, baet,
labels = c("A", "B"),
nrow = 2)
knitr::opts_chunk$set(echo = FALSE)
library(readxl)
library(tidyverse)
library(stringr)
library(ggpubr)
#setting the work direction
setwd("C:\\Users\\cbodson\\Desktop\\Analyse_données")
#Creating a function to clean taxa names to use as a color filter
Clean_String <-function(string) {
new_string <- str_split(string, "_")[[1]][2]
new_string <- str_replace_all(new_string, "[^A-Z]", "")[[1]][1]
return(new_string)
}
df <- read_excel("dataset_isotopes_compile.xlsx")
#We have to use as.character to be able to put the new collection of names while being able to use them in aes()
taxon_clean <- as.character(lapply(df$taxon, function(x){Clean_String(x)}))
#creating a new column
df["taxon_clean"]<-taxon_clean
#getting rid of the aspartame data as it used only for calibration
df<- df[df$taxon_clean !=as.character('ASP'),]
all <- ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
Plotify_color_type <- function(taxon_name) {
plot <- ggplot(df[df$taxon_clean ==as.character(taxon_name),])+geom_point(aes(d13C_norm,d15N_norm, color=type))
}
baet <- Plotify_color_type('BAET')
ggarrange(all, baet,
labels = c("A", "B"),
nrow = 2)
all <- ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
all <- ggplot(df)+geom_point(aes(d13C_norm,d15N_norm, color=taxon_clean, shape=type))
all
baet <- Plotify_color_type('BAET')
calop <- Plotify_color_type('CALOP')
simu <- Plotify_color_type('SIMU')
hepta <- Plotify_color_type('HEPTA')
gam <- Plotify_color_type('GAM')
hydrop <- Plotify_color_type('HYDROP')
perl <- Plotify_color_type('PERL')
rhyaco <- Plotify_color_type('RHYACO')
vai <- Plotify_color_type('VAI')
trf <- Plotify_color_type('trf')
baet <- Plotify_color_type('BAET')
calop <- Plotify_color_type('CALOP')
simu <- Plotify_color_type('SIMU')
hepta <- Plotify_color_type('HEPTA')
gam <- Plotify_color_type('GAM')
hydrop <- Plotify_color_type('HYDROP')
perl <- Plotify_color_type('PERL')
rhyaco <- Plotify_color_type('RHYACO')
vai <- Plotify_color_type('VAI')
trf <- Plotify_color_type('TRF')
ggarrange(baet,calop,gam,hepta,hydrop,perl,rhyaco,simu,vai,trf,
labels = c("A", "B","C","D","E","F","G","H","I","J"),
ncol=5,
nrow = 2)
ggarrange(baet,calop,gam,hepta,hydrop,perl,rhyaco,simu,vai,trf,
labels = c("A", "B","C","D","E","F","G","H","I","J"),
ncol=3,
nrow = 4)
ggarrange(baet,calop,gam,hepta,hydrop,perl,rhyaco,simu,vai,trf,
labels = c("A", "B","C","D","E","F","G","H","I","J"),
ncol=4,
nrow = 3)
ggarrange(baet,calop,gam,hepta,hydrop,perl,rhyaco,simu,vai,trf,
labels = c("baet","calop","gam","hepta","hydrop","perl","rhyaco","simu","vai","trf"),
ncol=4,
nrow = 3)
